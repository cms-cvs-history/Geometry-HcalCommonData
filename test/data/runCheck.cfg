process PROD  = {

   service = MessageLogger {
      untracked vstring destinations = {"cout"}
      untracked vstring categories = { "G4cout", "G4cerr"}
      untracked PSet cout =  {
         untracked PSet default      = { untracked int32 limit =  0 } 
         untracked PSet G4cerr       = { untracked int32 limit = -1 } 
         untracked PSet G4cout       = { untracked int32 limit = -1 } 
      }
   }
   
   service = Timing {}

   service = RandomNumberGeneratorService {
      untracked uint32 sourceSeed = 98765
      PSet moduleSeeds = {
         untracked uint32 VtxSmeared = 12345
         untracked uint32 g4SimHits = 9876
      }
   }

   include "SimGeneral/HepPDTESSource/data/pdt.cfi"
      
   # flat random E-gun, single pion
   #
   # to run it along with CMS detector simulation
   # (OscarProducer) make sure to select QGSP physics
   # list, instead DummyPhysics ("Dummy" has only EM 
   # process and wont know to model interactions of
   # hadrons with matter)
   #
   source = FlatRandomEGunSource  {
      untracked PSet PGunParameters =  {
         untracked vint32 PartID = {211}
         untracked double MinEta =  0.5655
         untracked double MaxEta =  0.5655
         untracked double MinPhi = -0.1309
         untracked double MaxPhi = -0.1309
         untracked double MinE   =  9.99
         untracked double MaxE   = 10.01
      }
      untracked int32 Verbosity = 0 # set to 1 (or greater)  for printouts
   }
    untracked PSet maxEvents = {untracked int32 input = 1}

   #Geometry
   #   
   include "Geometry/CMSCommonData/data/hcalOnlyGeometryXML.cfi"

   # Geant4-based CMS Det.Simulation
   #
   # the 'replace' option below show how to override the default
   # setting of mag.field key (tu turn it off)
   #
   include "SimG4Core/Application/data/g4SimHits.cfi"
   replace g4SimHits.UseMagneticField        = false
   replace g4SimHits.Physics.DefaultCutValue = 1. # cuts in cm, i.e. 10m
   replace g4SimHits.Generator.HepMCProductLabel = "source"
   replace g4SimHits.Watchers = {
         {          string type      = "CheckOverlap"
         untracked string NodeName   = "CMSE"
         untracked int32  Resolution = 1000
   } }
		
   
   path p1 = { g4SimHits }
}		
