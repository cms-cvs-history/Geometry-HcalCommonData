process GEOM = {
        service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked vstring categories   = { "HCalGeom"}
        untracked vstring debugModules = { "*" }
        untracked PSet cout = {untracked string threshold = "DEBUG"
                untracked PSet INFO     = {untracked int32 limit =  0 }
                untracked PSet DEBUG    = {untracked int32 limit =  0 }
                untracked PSet HCalGeom = {untracked int32 limit = -1 }
                }
        }

	service = VisConfigurationService  {
		untracked vstring Views = {'3D Window'}
		untracked vstring  ContentProxies = {'Simulation/Core', 'Simulation/Geometry','Simulation/MagField'}
	}

	untracked PSet maxEvents = {untracked int32 input = 1 }
	source = EmptySource { }

        #Geometry
        include "Geometry/CMSCommonData/data/hcalOnlyGeometryXML.cfi"
        #include "Geometry/HcalCommonData/data/testGeometryPMTXML.cfi"

        block common_heavy_suppression = {
            double IonThreshold     = 30.0
            double NeutronThreshold = 30.0
            double ProtonThreshold  = 30.0
        }

        module prod = GeometryProducer {
            bool UseMagneticField = false
            bool UseSensitiveDetectors = true
            PSet MagneticField = { double delta = 1. }
            PSet CaloSD = {
                double EminTrack     = 1.0
                bool   SuppressHeavy = false
                double TmaxHit       = 1000.
		vdouble EminHits     = {0.0, 0.0, 0.0, 0.0}
		vstring HCNames      = {"EcalHitsEB", "EcalHitsEE", "EcalHitsES","HcalHits"}
                using common_heavy_suppression
                untracked int32  CheckHits = 25
                untracked bool   UseMap = true
                untracked int32  Verbosity = 0
                untracked bool   DetailedTiming = false
                untracked bool   CorrectTOFBeam = false
                untracked double BeamPosition = 0.0
            }
            PSet ECalSD = {
                bool   UseBirkLaw = true
                double BirkC1 = 0.03333
                double BirkC2 = 0.0
                double BirkC3 = 1.0
                bool   BirkL3Parametrization = true
                double BirkCut   = 0.10
                double SlopeLightYield = 0.02
                untracked bool TestBeam = false
            }
            PSet HCalSD = {
                bool   UseBirkLaw = true
                double BirkC1 = 0.0052
                double BirkC2 = 0.142
                double BirkC3 = 1.75
                bool   UseShowerLibrary = false
                bool   UseParametrize   = false
                bool   TestNumberingScheme = false
                bool   UsePMTHits       = false
                double BetaThreshold    = 0.70
		double EminHitHB        = 0.0
		double EminHitHE        = 0.0
		double EminHitHO        = 0.0
		double EminHitHF        = 0.0
                untracked bool UseHF    = true
                untracked bool ForTBH2  = false
                untracked bool UseLayerWt = false
                untracked string WtFile   = "None"
            }
            PSet CaloTrkProcessing = {
                bool   TestBeam  = false
                double EminTrack = 0.01
            }
	    PSet HFShower = {
		double ProbMax         = 0.7268
		double CFibre          = 0.50
		double PEPerGeV        = 0.25
		bool   TrackEM         = false
		bool   UseShowerLibrary= false
		double EminLibrary     = 5.0
		double RefIndex        = 1.459
		double Lambda1         = 280.0
		double Lambda2         = 700.0
		double Aperture        = 0.33
		double ApertureTrapped = 0.22
		double Gain            = 0.33
		bool   CheckSurvive    = false
	    }
	    PSet HFShowerLibrary = {
		FileInPath FileName        = "SimG4CMS/Calo/data/hfshowerlibrary_lhep_140_edm.root"
		double BackProbability     = 0.2
		string TreeEMID            = "emParticles"
		string TreeHadID           = "hadParticles"
		untracked string BranchEvt = "HFShowerLibraryEventInfos_hfshowerlib_HFShowerLibraryEventInfo"
		untracked string BranchPre = "HFShowerPhotons_hfshowerlib_"
		untracked string BranchPost= "_R.obj"
		untracked bool   Verbosity = false
	    }
	    PSet HFShowerPMT = {
		double PEPerGeVPMT     = 1.0
		double RefIndex        = 1.52
		double Lambda1         = 280.0
		double Lambda2         = 700.0
		double Aperture        = 0.66
		double ApertureTrapped = 0.22
		double Gain            = 0.33
		bool   CheckSurvive    = false
	    }

        }
        path p1 = { prod }
}
